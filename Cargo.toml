[package]
name = "universal-inbox"
version = "0.1.0"
edition = "2021"
authors = ["David Rousselie <david@universal-inbox.com>"]

[workspace]
members = ["api", "web"]

[lib]
path = "src/lib.rs"
doctest = false

[dependencies]
serde = { version = "1.0", features = ["derive"] }
serde_json = { version = "1.0", features = ["preserve_order"] }
uuid = { version = "1.0", features = ["serde", "v4"] }
chrono = { version = "0.4.0", features = ["serde"] }
enum_derive = "0.1.0"
macro-attr = "0.2.0"
serde_with = "1.14.0"
http = "0.2.0"
git-url-parse = "0.4.0"
serde_repr = "0.1.0"
num_enum = "0.5.0"
url = { version = "2.3.0", features = ["serde"] }

[patch.crates-io]
# Patch Dioxus to access use_memo, use_effect seems buggy as of 0.3.1
dioxus = { git = "https://github.com/DioxusLabs/dioxus.git", rev = "e9dd5a94c7fa776966e1063aba75c665422a19c9" }
dioxus-web = { git = "https://github.com/DioxusLabs/dioxus.git", rev = "e9dd5a94c7fa776966e1063aba75c665422a19c9" }
dioxus-hooks = { git = "https://github.com/DioxusLabs/dioxus.git", rev = "e9dd5a94c7fa776966e1063aba75c665422a19c9" }
dioxus-router = { git = "https://github.com/DioxusLabs/dioxus.git", rev = "e9dd5a94c7fa776966e1063aba75c665422a19c9" }
fermi = { git = "https://github.com/DioxusLabs/dioxus.git", rev = "e9dd5a94c7fa776966e1063aba75c665422a19c9" }

[dev-dependencies]
pretty_assertions = "1.3.0"
rstest = "0.13.0"
