var e,t,r={};r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var i={};r.d(i,{oT:()=>eG,aN:()=>eQ,_8:()=>eX,iK:()=>eZ});let a="NANGO DEBUG LOG: ";class n extends Error{type;constructor(e,t){super(e),this.type=t}}class o{hostBaseUrl;websocketsBaseUrl;status;publicKey;debug=!1;win=null;width=null;height=null;tm=null;constructor(e){if(e.host=e.host||"https://api.nango.dev",e.websocketsPath=e.websocketsPath||"/",this.debug=e.debug||!1,this.debug&&(console.log(a,"Debug mode is enabled."),console.log(a,`Using host: ${e.host}.`)),e.width&&(this.width=e.width),e.height&&(this.height=e.height),this.hostBaseUrl="/"===e.host.slice(-1)?e.host.slice(0,-1):e.host,this.status=t.IDLE,this.publicKey=e.publicKey,!e.publicKey)throw new n("You must specify a public key (cf. documentation).","missingPublicKey");try{let t=new URL(this.hostBaseUrl),r=new URL(e.websocketsPath,t);this.websocketsBaseUrl=r.toString().replace("https://","wss://").replace("http://","ws://")}catch(e){throw new n("Invalid URL provided for the Nango host.","invalidHostUrl")}}async create(e,t,r){let i=this.hostBaseUrl+`/unauth/${e}${this.toQueryString(t,r)}`,a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"}});if(!a.ok){let e=await a.json();throw new n(e.error,e.type)}return a.json()}auth(e,r,i){if(i&&"credentials"in i&&Object.keys(i.credentials).length>0){let t=i.credentials,{credentials:a,...n}=i;return this.customAuth(e,r,this.convertCredentialsToConfig(t),n)}let a=this.hostBaseUrl+`/oauth/connect/${e}${this.toQueryString(r,i)}`;try{new URL(a)}catch(e){throw new n("Invalid URL provided for the Nango host.","invalidHostUrl")}return new Promise((e,r)=>{this.status===t.BUSY&&r(new n("The authorization window is already opened","windowIsOppened")),this.status=t.BUSY,this.win=new s(this.websocketsBaseUrl,a,(r,i,a=!1)=>{if(this.status===t.BUSY)return this.status=t.DONE,e({providerConfigKey:r,connectionId:i,isPending:a})},(e,i)=>{if(this.status===t.BUSY)return this.status=t.DONE,r(new n(i,e))},{width:this.width,height:this.height},this.debug),i?.detectClosedAuthWindow&&(this.tm=setInterval(()=>{(!this.win?.modal?.window||this.win?.modal?.window.closed)&&this.win?.isProcessingMessage!==!0&&(clearTimeout(this.tm),this.win=null,this.status=t.CANCELED,r(new n("The authorization window was closed before the authorization flow was completed","windowClosed")))},500))})}convertCredentialsToConfig(e){let t={};if("username"in e&&(t.username=e.username||""),"password"in e&&(t.password=e.password||""),"apiKey"in e&&(t.apiKey=e.apiKey||""),"privateKeyId"in e&&"issuerId"in e&&"privateKey"in e){let t={params:{privateKeyId:e.privateKeyId,issuerId:e.issuerId,privateKey:e.privateKey}};return e.scope&&(t.params.scope=e.scope),t}return{params:t}}async customAuth(e,t,r,i){let{params:a}=r;if(!a)throw new n("You must specify credentials.","missingCredentials");if("apiKey"in a){let r=this.hostBaseUrl+`/api-auth/api-key/${e}${this.toQueryString(t,i)}`,o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){let e=await o.json();throw new n(e.error,e.type)}return o.json()}if("username"in a||"password"in a){let r=this.hostBaseUrl+`/api-auth/basic/${e}${this.toQueryString(t,i)}`,o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){let e=await o.json();throw new n(e.error,e.type)}return o.json()}if("privateKeyId"in a&&"issuerId"in a&&"privateKey"in a){let r=this.hostBaseUrl+`/app-store-auth/${e}${this.toQueryString(t,i)}`,o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){let e=await o.json();throw new n(e.error,e.type)}return o.json()}return Promise.reject("Something went wrong with the authorization")}toQueryString(e,t){let r=[];if(e&&r.push(`connection_id=${e}`),r.push(`public_key=${this.publicKey}`),t){for(let e in t.params){let i=t.params[e];"string"==typeof i&&r.push(`params[${e}]=${i}`)}for(let e in t.hmac&&r.push(`hmac=${t.hmac}`),t.user_scope&&r.push(`user_scope=${t.user_scope.join(",")}`),t.authorization_params){let i=t.authorization_params[e];"string"==typeof i?r.push(`authorization_params[${e}]=${i}`):void 0===i&&r.push(`authorization_params[${e}]=undefined`)}}return 0===r.length?"":"?"+r.join("&")}}(e=t||(t={}))[e.IDLE=0]="IDLE",e[e.BUSY=1]="BUSY",e[e.CANCELED=2]="CANCELED",e[e.DONE=3]="DONE";class s{url;features;width=500;height=600;modal;swClient;debug;isProcessingMessage=!1;constructor(e,t,r,i,{width:a,height:n},o){this.url=t,this.debug=o||!1;let{left:s,top:d,computedWidth:l,computedHeight:c}=this.layout(a||this.width,n||this.height);this.features={width:l,height:c,top:d,left:s,scrollbars:"yes",resizable:"yes",status:"no",toolbar:"no",location:"no",copyhistory:"no",menubar:"no",directories:"no"},this.swClient=new WebSocket(e),this.swClient.onmessage=e=>{this.isProcessingMessage=!0,this.handleMessage(e,r,i),this.isProcessingMessage=!1}}handleMessage(e,t,r){let i=JSON.parse(e.data);switch(i.message_type){case"connection_ack":this.debug&&console.log(a,"Connection ack received. Opening modal...");let n=i.ws_client_id;this.open(n);break;case"error":this.debug&&console.log(a,"Error received. Rejecting authorization..."),r(i.error_type,i.error_desc),this.swClient.close();break;case"success":this.debug&&console.log(a,"Success received. Resolving authorization..."),t(i.provider_config_key,i.connection_id),this.swClient.close();break;default:this.debug&&console.log(a,"Unknown message type received from Nango server. Ignoring...");return}}layout(e,t){let r=window.screen.width,i=window.screen.height,a=Math.min(e,r),n=Math.min(t,i);return{left:Math.max(r/2-e/2,0),top:Math.max(i/2-t/2,0),computedWidth:a,computedHeight:n}}open(e){let t=this.url+"&ws_client_id="+e,r=this.featuresToString();return this.modal=window.open(t,"",r),this.modal}featuresToString(){let e=this.features,t=[];for(let r in e)t.push(r+"="+e[r]);return t.join(",")}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function l(e,t,r){return t=g(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function c(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function h(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=function(e,t){for(;!({}).hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(null,arguments)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,a,n,o,s=[],d=!0,l=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(i=n.call(r)).done)&&(s.push(i.value),s.length!==t);d=!0);}catch(e){l=!0,a=e}finally{try{if(!d&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||k(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(e){if("string"==typeof e)return d(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e){return e[e.length-1]}function S(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.forEach(function(t){!e.includes(t)&&e.push(t)}),e}function O(e,t){return e?e.split(t):[]}function M(e,t,r){return(void 0===t||e>=t)&&(void 0===r||e<=r)}function C(e,t,r){return e<t?t:e>r?r:e}function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=Object.keys(r).reduce(function(e,t){var a=r[t];return"function"==typeof a&&(a=a(i)),"".concat(e," ").concat(t,'="').concat(a,'"')},e);a+="<".concat(n,"></").concat(e,">");var o=i+1;return o<t?E(e,t,r,o,a):a}function _(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function N(e){return new Date(e).setHours(0,0,0,0)}function B(){return new Date().setHours(0,0,0,0)}function L(){switch(arguments.length){case 0:return B();case 1:return N(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);return e.setFullYear.apply(e,arguments),e.setHours(0,0,0,0)}function j(e,t){var r=new Date(e);return r.setDate(r.getDate()+t)}function A(e,t){var r=new Date(e),i=r.getMonth()+t,a=i%12;a<0&&(a+=12);var n=r.setMonth(i);return r.getMonth()!==a?r.setDate(0):n}function F(e,t){var r=new Date(e),i=r.getMonth(),a=r.setFullYear(r.getFullYear()+t);return 1===i&&2===r.getMonth()?r.setDate(0):a}function V(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=new Date(e).getDay();return j(e,(t-r+7)%7-(i-r+7)%7)}function Y(e,t){return Math.floor(new Date(e).getFullYear()/t)*t}var K=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,T=/[\s!-/:-@[-`{-~年月日]+/,W={},P={y:function(e,t){return new Date(e).setFullYear(parseInt(t,10))},m:function(e,t,r){var i=new Date(e),a=parseInt(t,10)-1;if(isNaN(a)){if(!t)return NaN;var n=t.toLowerCase(),o=function(e){return e.toLowerCase().startsWith(n)};if((a=r.monthsShort.findIndex(o))<0&&(a=r.months.findIndex(o)),a<0)return NaN}return i.setMonth(a),i.getMonth()!==function e(t){return t>-1?t%12:e(t+12)}(a)?i.setDate(0):i.getTime()},d:function(e,t){return new Date(e).setDate(parseInt(t,10))}},I={d:function(e){return e.getDate()},dd:function(e){return U(e.getDate(),2)},D:function(e,t){return t.daysShort[e.getDay()]},DD:function(e,t){return t.days[e.getDay()]},m:function(e){return e.getMonth()+1},mm:function(e){return U(e.getMonth()+1,2)},M:function(e,t){return t.monthsShort[e.getMonth()]},MM:function(e,t){return t.months[e.getMonth()]},y:function(e){return e.getFullYear()},yy:function(e){return U(e.getFullYear(),2).slice(-2)},yyyy:function(e){return U(e.getFullYear(),4)}};function U(e,t){return e.toString().padStart(t,"0")}function H(e){if("string"!=typeof e)throw Error("Invalid date format.");if(e in W)return W[e];var t=e.split(K),r=e.match(RegExp(K,"g"));if(0===t.length||!r)throw Error("Invalid date format.");var i=r.map(function(e){return I[e]}),a=Object.keys(P).reduce(function(e,t){return r.find(function(e){return"D"!==e[0]&&e[0].toLowerCase()===t})&&e.push(t),e},[]);return W[e]={parser:function(e,t){var i=e.split(T).reduce(function(e,t,i){if(t.length>0&&r[i]){var a=r[i][0];"M"===a?e.m=t:"D"!==a&&(e[a]=t)}return e},{});return a.reduce(function(e,r){var a=P[r](e,i[r],t);return isNaN(a)?e:a},B())},formatter:function(e,r){return i.reduce(function(i,a,n){return i+"".concat(t[n]).concat(a(e,r))},"")+D(t)}}}function $(e,t,r){if(e instanceof Date||"number"==typeof e){var i=N(e);return isNaN(i)?void 0:i}if(e){if("today"===e)return B();if(t&&t.toValue){var a=t.toValue(e,t,r);return isNaN(a)?void 0:N(a)}return H(t).parser(e,r)}}function R(e,t,r){if(isNaN(e)||!e&&0!==e)return"";var i="number"==typeof e?new Date(e):e;return t.toDisplay?t.toDisplay(i,t,r):H(t).formatter(i,r)}var z=new WeakMap,J=EventTarget.prototype,q=J.addEventListener,Q=J.removeEventListener;function G(e,t){var r=z.get(e);r||(r=[],z.set(e,r)),t.forEach(function(e){q.call.apply(q,m(e)),r.push(e)})}if(!Event.prototype.composedPath){var X=function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i.push(t),t.parentNode?r=t.parentNode:t.host?r=t.host:t.defaultView&&(r=t.defaultView),r?e(r,i):i};Event.prototype.composedPath=function(){return X(this.target)}}function Z(e,t){var r="function"==typeof t?t:function(e){return e.matches(t)};return function e(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=t[a];return r(n)?n:n!==i&&n.parentElement?e(t,r,i,a+1):void 0}(e.composedPath(),r,e.currentTarget)}var ee={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},et={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},er=null;function ei(e){return null==er&&(er=document.createRange()),er.createContextualFragment(e)}function ea(e){"none"!==e.style.display&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function en(e){"none"===e.style.display&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function eo(e){e.firstChild&&(e.removeChild(e.firstChild),eo(e))}var es=et.language,ed=et.format,el=et.weekStart;function ec(e,t){return e.length<6&&t>=0&&t<7?S(e,t):e}function eu(e,t,r,i){var a=$(e,t,r);return void 0!==a?a:i}function eh(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=parseInt(e,10);return i>=0&&i<=r?i:t}function ef(e,t){var r,i=Object.assign({},e),a={},n=t.constructor.locales,o=t.config||{},s=o.format,d=o.language,l=o.locale,c=o.maxDate,u=o.maxView,h=o.minDate,f=o.pickLevel,g=o.startView,p=o.weekStart;if(i.language&&(i.language!==d&&(n[i.language]?r=i.language:void 0===n[r=i.language.split("-")[0]]&&(r=!1)),delete i.language,r)){d=a.language=r;var y=l||n[es];l=Object.assign({format:ed,weekStart:el},n[es]),d!==es&&Object.assign(l,n[d]),a.locale=l,s===y.format&&(s=a.format=l.format),p===y.weekStart&&(p=a.weekStart=l.weekStart,a.weekEnd=(l.weekStart+6)%7)}if(i.format){var v="function"==typeof i.format.toDisplay,b="function"==typeof i.format.toValue,m=K.test(i.format);(v&&b||m)&&(s=a.format=i.format),delete i.format}var w=h,k=c;if(void 0!==i.minDate&&(w=null===i.minDate?L(0,0,1):eu(i.minDate,s,l,w),delete i.minDate),void 0!==i.maxDate&&(k=null===i.maxDate?void 0:eu(i.maxDate,s,l,k),delete i.maxDate),k<w?(h=a.minDate=k,c=a.maxDate=w):(h!==w&&(h=a.minDate=w),c!==k&&(c=a.maxDate=k)),i.datesDisabled&&(a.datesDisabled=i.datesDisabled.reduce(function(e,t){var r=$(t,s,l);return void 0!==r?S(e,r):e},[]),delete i.datesDisabled),void 0!==i.defaultViewDate){var D=$(i.defaultViewDate,s,l);void 0!==D&&(a.defaultViewDate=D),delete i.defaultViewDate}if(void 0!==i.weekStart){var O=Number(i.weekStart)%7;!isNaN(O)&&(p=a.weekStart=O,a.weekEnd=(O+6)%7),delete i.weekStart}if(i.daysOfWeekDisabled&&(a.daysOfWeekDisabled=i.daysOfWeekDisabled.reduce(ec,[]),delete i.daysOfWeekDisabled),i.daysOfWeekHighlighted&&(a.daysOfWeekHighlighted=i.daysOfWeekHighlighted.reduce(ec,[]),delete i.daysOfWeekHighlighted),void 0!==i.maxNumberOfDates){var M=parseInt(i.maxNumberOfDates,10);M>=0&&(a.maxNumberOfDates=M,a.multidate=1!==M),delete i.maxNumberOfDates}i.dateDelimiter&&(a.dateDelimiter=String(i.dateDelimiter),delete i.dateDelimiter);var C=f;void 0!==i.pickLevel&&(C=eh(i.pickLevel,2),delete i.pickLevel),C!==f&&(f=a.pickLevel=C);var E=u;void 0!==i.maxView&&(E=eh(i.maxView,u),delete i.maxView),(E=f>E?f:E)!==u&&(u=a.maxView=E);var _=g;if(void 0!==i.startView&&(_=eh(i.startView,_),delete i.startView),_<f?_=f:_>u&&(_=u),_!==g&&(a.startView=_),i.prevArrow){var N=ei(i.prevArrow);N.childNodes.length>0&&(a.prevArrow=N.childNodes),delete i.prevArrow}if(i.nextArrow){var B=ei(i.nextArrow);B.childNodes.length>0&&(a.nextArrow=B.childNodes),delete i.nextArrow}if(void 0!==i.disableTouchKeyboard&&(a.disableTouchKeyboard="ontouchstart"in document&&!!i.disableTouchKeyboard,delete i.disableTouchKeyboard),i.orientation){var j=i.orientation.toLowerCase().split(/\s+/g);a.orientation={x:j.find(function(e){return"left"===e||"right"===e})||"auto",y:j.find(function(e){return"top"===e||"bottom"===e})||"auto"},delete i.orientation}if(void 0!==i.todayBtnMode){switch(i.todayBtnMode){case 0:case 1:a.todayBtnMode=i.todayBtnMode}delete i.todayBtnMode}return Object.keys(i).forEach(function(e){void 0!==i[e]&&x(et,e)&&(a[e]=i[e])}),a}var eg=_('<div class="datepicker hidden">\n  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">\n    <div class="datepicker-header">\n      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>\n      <div class="datepicker-controls flex justify-between mb-2">\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>\n        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main p-1"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">\n        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n      </div>\n    </div>\n  </div>\n</div>'),ep=_('<div class="days">\n  <div class="days-of-week grid grid-cols-7 mb-1">'.concat(E("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),'</div>\n  <div class="datepicker-grid w-64 grid grid-cols-7">').concat(E("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),"</div>\n</div>")),ey=_('<div class="calendar-weeks">\n  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>\n  <div class="weeks">'.concat(E("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),"</div>\n</div>")),ev=h(function e(t,r){c(this,e),Object.assign(this,r,{picker:t,element:ei('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)},[{key:"init",value:function(e){void 0!==e.pickLevel&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(e,t,r){var i=this.beforeShow(new Date(r));switch(w(i)){case"boolean":i={enabled:i};break;case"string":i={classes:i}}if(i){if(!1===i.enabled&&(e.classList.add("disabled"),S(this.disabled,t)),i.classes){var a,n,o=i.classes.split(/\s+/);(n=e.classList).add.apply(n,m(o)),o.includes("disabled")&&S(this.disabled,t)}i.content&&(a=i.content,eo(e),a instanceof DocumentFragment?e.appendChild(a):"string"==typeof a?e.appendChild(ei(a)):"function"==typeof a.forEach&&a.forEach(function(t){e.appendChild(t)}))}}}]),eb=function(e){function t(e){return c(this,t),l(this,t,[e,{id:0,name:"days",cellClass:"day"}])}return p(t,e),h(t,[{key:"init",value:function(e){var r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(r){var i=ei(ep).firstChild;this.dow=i.firstChild,this.grid=i.lastChild,this.element.appendChild(i)}f(g(t.prototype),"init",this).call(this,e)}},{key:"setOptions",value:function(e){var t,r=this;if(x(e,"minDate")&&(this.minDate=e.minDate),x(e,"maxDate")&&(this.maxDate=e.maxDate),e.datesDisabled&&(this.datesDisabled=e.datesDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),void 0!==e.todayHighlight&&(this.todayHighlight=e.todayHighlight),void 0!==e.weekStart&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){var i=this.locale=e.locale;this.dayNames=i.daysMin,this.switchLabelFormat=i.titleFormat,t=!0}if(void 0!==e.beforeShowDay&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),void 0!==e.calendarWeeks){if(e.calendarWeeks&&!this.calendarWeeks){var a=ei(ey).firstChild;this.calendarWeeks={element:a,dow:a.firstChild,weeks:a.lastChild},this.element.insertBefore(a,this.element.firstChild)}else this.calendarWeeks&&!e.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null)}void 0!==e.showDaysOfWeek&&(e.showDaysOfWeek?(en(this.dow),this.calendarWeeks&&en(this.calendarWeeks.dow)):(ea(this.dow),this.calendarWeeks&&ea(this.calendarWeeks.dow))),t&&Array.from(this.dow.children).forEach(function(e,t){var i=(r.weekStart+t)%7;e.textContent=r.dayNames[i],e.className=r.daysOfWeekDisabled.includes(i)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate),t=e.getFullYear(),r=e.getMonth(),i=L(t,r,1),a=V(i,this.weekStart,this.weekStart);this.first=i,this.last=L(t,r+1,0),this.start=a,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,r=e.rangepicker;this.selected=t,r&&(this.range=r.dates)}},{key:"render",value:function(){var e=this;this.today=this.todayHighlight?B():void 0,this.disabled=m(this.datesDisabled);var t=R(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(t),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var r=V(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(e,t){var i,a;e.textContent=(i=V(j(r,7*t),4,1),a=V(new Date(i).setMonth(0,4),4,1),Math.round((i-a)/6048e5)+1)})}Array.from(this.grid.children).forEach(function(t,r){var i=t.classList,a=j(e.start,r),n=new Date(a),o=n.getDay();if(t.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(e.cellClass),t.dataset.date=a,t.textContent=n.getDate(),a<e.first?i.add("prev","text-gray-500","dark:text-white"):a>e.last&&i.add("next","text-gray-500","dark:text-white"),e.today===a&&i.add("today","bg-gray-100","dark:bg-gray-600"),(a<e.minDate||a>e.maxDate||e.disabled.includes(a))&&(i.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),i.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),e.daysOfWeekDisabled.includes(o)&&(i.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),i.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),S(e.disabled,a)),e.daysOfWeekHighlighted.includes(o)&&i.add("highlighted"),e.range){var s=b(e.range,2),d=s[0],l=s[1];a>d&&a<l&&(i.add("range","bg-gray-200","dark:bg-gray-600"),i.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),a===d&&(i.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),i.remove("rounded-lg","rounded-r-lg")),a===l&&(i.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),i.remove("rounded-lg","rounded-l-lg"))}e.selected.includes(a)&&(i.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),i.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),a===e.focused&&i.add("focused"),e.beforeShow&&e.performBeforeHook(t,a,a)})}},{key:"refresh",value:function(){var e=this,t=b(this.range||[],2),r=t[0],i=t[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(e){e.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),e.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(t){var a=Number(t.dataset.date),n=t.classList;n.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),a>r&&a<i&&(n.add("range","bg-gray-200","dark:bg-gray-600"),n.remove("rounded-lg")),a===r&&(n.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),n.remove("rounded-lg")),a===i&&(n.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),n.remove("rounded-lg")),e.selected.includes(a)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),a===e.focused&&n.add("focused")})}},{key:"refreshFocus",value:function(){var e=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(e){e.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}])}(ev);function em(e,t){if(e&&e[0]&&e[1]){var r=b(e,2),i=b(r[0],2),a=i[0],n=i[1],o=b(r[1],2),s=o[0],d=o[1];if(!(a>t)&&!(s<t))return[a===t?n:-1,s===t?d:12]}}var ew=function(e){function t(e){return c(this,t),l(this,t,[e,{id:1,name:"months",cellClass:"month"}])}return p(t,e),h(t,[{key:"init",value:function(e){var r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];r&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(ei(E("span",12,{"data-month":function(e){return e}})))),f(g(t.prototype),"init",this).call(this,e)}},{key:"setOptions",value:function(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),x(e,"minDate")){if(void 0===e.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}}if(x(e,"maxDate")){if(void 0===e.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var r=new Date(e.maxDate);this.maxYear=r.getFullYear(),this.maxMonth=r.getMonth(),this.maxDate=L(this.maxYear,this.maxMonth+1,0)}}void 0!==e.beforeShowMonth&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,r=e.rangepicker;this.selected=t.reduce(function(e,t){var r=new Date(t),i=r.getFullYear(),a=r.getMonth();return void 0===e[i]?e[i]=[a]:S(e[i],a),e},{}),r&&r.dates&&(this.range=r.dates.map(function(e){var t=new Date(e);return isNaN(t)?void 0:[t.getFullYear(),t.getMonth()]}))}},{key:"render",value:function(){var e=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var t=this.selected[this.year]||[],r=this.year<this.minYear||this.year>this.maxYear,i=this.year===this.minYear,a=this.year===this.maxYear,n=em(this.range,this.year);Array.from(this.grid.children).forEach(function(o,s){var d=o.classList,l=L(e.year,s,1);if(o.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(e.cellClass),e.isMinView&&(o.dataset.date=l),o.textContent=e.monthNames[s],(r||i&&s<e.minMonth||a&&s>e.maxMonth)&&d.add("disabled"),n){var c=b(n,2),u=c[0],h=c[1];s>u&&s<h&&d.add("range"),s===u&&d.add("range-start"),s===h&&d.add("range-end")}t.includes(s)&&(d.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),d.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),s===e.focused&&d.add("focused"),e.beforeShow&&e.performBeforeHook(o,s,l)})}},{key:"refresh",value:function(){var e=this,t=this.selected[this.year]||[],r=b(em(this.range,this.year)||[],2),i=r[0],a=r[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(e){e.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),e.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(r,n){var o=r.classList;n>i&&n<a&&o.add("range"),n===i&&o.add("range-start"),n===a&&o.add("range-end"),t.includes(n)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),n===e.focused&&o.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(e){e.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])}(ev),ek=function(e){function t(e,r){return c(this,t),l(this,t,[e,r])}return p(t,e),h(t,[{key:"init",value:function(e){var r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];r&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow".concat(m(this.cellClass).reduce(function(e,t,r){return e+(r?t:t.toUpperCase())},"")),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(ei(E("span",12)))),f(g(t.prototype),"init",this).call(this,e)}},{key:"setOptions",value:function(e){if(x(e,"minDate")&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=Y(e.minDate,this.step),this.minDate=L(this.minYear,0,1))),x(e,"maxDate")&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=Y(e.maxDate,this.step),this.maxDate=L(this.maxYear,11,31))),void 0!==e[this.beforeShowOption]){var t=e[this.beforeShowOption];this.beforeShow="function"==typeof t?t:void 0}}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate),t=Y(e,this.navStep),r=t+9*this.step;this.first=t,this.last=r,this.start=t-this.step,this.focused=Y(e,this.step)}},{key:"updateSelection",value:function(){var e=this,t=this.picker.datepicker,r=t.dates,i=t.rangepicker;this.selected=r.reduce(function(t,r){return S(t,Y(r,e.step))},[]),i&&i.dates&&(this.range=i.dates.map(function(t){if(void 0!==t)return Y(t,e.step)}))}},{key:"render",value:function(){var e=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(t,r){var i=t.classList,a=e.start+r*e.step,n=L(a,0,1);if(t.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(e.cellClass),e.isMinView&&(t.dataset.date=n),t.textContent=t.dataset.year=a,0===r?i.add("prev"):11===r&&i.add("next"),(a<e.minYear||a>e.maxYear)&&i.add("disabled"),e.range){var o=b(e.range,2),s=o[0],d=o[1];a>s&&a<d&&i.add("range"),a===s&&i.add("range-start"),a===d&&i.add("range-end")}e.selected.includes(a)&&(i.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),i.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),a===e.focused&&i.add("focused"),e.beforeShow&&e.performBeforeHook(t,a,n)})}},{key:"refresh",value:function(){var e=this,t=b(this.range||[],2),r=t[0],i=t[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(e){e.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(t){var a=Number(t.textContent),n=t.classList;a>r&&a<i&&n.add("range"),a===r&&n.add("range-start"),a===i&&n.add("range-end"),e.selected.includes(a)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),a===e.focused&&n.add("focused")})}},{key:"refreshFocus",value:function(){var e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(e){e.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}])}(ev);function ex(e,t){var r={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:r}))}function eD(e,t){var r,i,a,n,o=e.config,s=o.minDate,d=o.maxDate,l=e.picker,c=l.currentView,u=l.viewDate;switch(c.id){case 0:n=A(u,t);break;case 1:n=F(u,t);break;default:n=F(u,t*c.navStep)}r=n,i=s,a=d,n=r<i?i:r>a?a:r,e.picker.changeFocus(n).render()}function eS(e){var t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function eO(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function eM(e,t){var r=e.picker,i=new Date(r.viewDate),a=r.currentView.id,n=1===a?A(i,t-i.getMonth()):F(i,t-i.getFullYear());r.changeFocus(n).changeView(a-1).render()}function eC(e){var t=e.picker,r=B();if(1===e.config.todayBtnMode){if(e.config.autohide){e.setDate(r);return}e.setDate(r,{render:!1}),t.update()}t.viewDate!==r&&t.changeFocus(r),t.changeView(0).render()}function eE(e){e.setDate({clear:!0})}function e_(e){eS(e)}function eN(e){eD(e,-1)}function eB(e){eD(e,1)}function eL(e,t){var r=Z(t,".datepicker-cell");if(!(!r||r.classList.contains("disabled"))){var i=e.picker.currentView,a=i.id;i.isMinView?e.setDate(Number(r.dataset.date)):1===a?eM(e,Number(r.dataset.month)):eM(e,Number(r.dataset.year))}}function ej(e){e.inline||e.config.disableTouchKeyboard||e.inputField.focus()}function eA(e,t){if(void 0!==t.title&&(t.title?(e.controls.title.textContent=t.title,en(e.controls.title)):(e.controls.title.textContent="",ea(e.controls.title))),t.prevArrow){var r=e.controls.prevBtn;eo(r),t.prevArrow.forEach(function(e){r.appendChild(e.cloneNode(!0))})}if(t.nextArrow){var i=e.controls.nextBtn;eo(i),t.nextArrow.forEach(function(e){i.appendChild(e.cloneNode(!0))})}if(t.locale&&(e.controls.todayBtn.textContent=t.locale.today,e.controls.clearBtn.textContent=t.locale.clear),void 0!==t.todayBtn&&(t.todayBtn?en(e.controls.todayBtn):ea(e.controls.todayBtn)),x(t,"minDate")||x(t,"maxDate")){var a=e.datepicker.config,n=a.minDate,o=a.maxDate;e.controls.todayBtn.disabled=!M(B(),n,o)}void 0!==t.clearBtn&&(t.clearBtn?en(e.controls.clearBtn):ea(e.controls.clearBtn))}function eF(e){var t,r,i,a=e.dates,n=e.config;return t=a.length>0?D(a):n.defaultViewDate,r=n.minDate,i=n.maxDate,t<r?r:t>i?i:t}function eV(e,t){var r=new Date(e.viewDate),i=new Date(t),a=e.currentView,n=a.id,o=a.year,s=a.first,d=a.last,l=i.getFullYear();switch(e.viewDate=t,l!==r.getFullYear()&&ex(e.datepicker,"changeYear"),i.getMonth()!==r.getMonth()&&ex(e.datepicker,"changeMonth"),n){case 0:return t<s||t>d;case 1:return l!==o;default:return l<s||l>d}}function eY(e){return window.getComputedStyle(e).direction}var eK=h(function e(t){c(this,e),this.datepicker=t;var r=eg.replace(/%buttonClass%/g,t.config.buttonClass),i=this.element=ei(r).firstChild,a=b(i.firstChild.children,3),n=a[0],o=a[1],s=a[2],d=n.firstElementChild,l=b(n.lastElementChild.children,3),u=l[0],h=l[1],f=l[2],g=b(s.firstChild.children,2),p={title:d,prevBtn:u,viewSwitch:h,nextBtn:f,todayBtn:g[0],clearBtn:g[1]};this.main=o,this.controls=p;var y=t.inline?"inline":"dropdown";i.classList.add("datepicker-".concat(y)),"dropdown"===y&&i.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),eA(this,t.config),this.viewDate=eF(t),G(t,[[i,"click",ej.bind(null,t),{capture:!0}],[o,"click",eL.bind(null,t)],[p.viewSwitch,"click",e_.bind(null,t)],[p.prevBtn,"click",eN.bind(null,t)],[p.nextBtn,"click",eB.bind(null,t)],[p.todayBtn,"click",eC.bind(null,t)],[p.clearBtn,"click",eE.bind(null,t)]]),this.views=[new eb(this),new ew(this),new ek(this,{id:2,name:"years",cellClass:"year",step:1}),new ek(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.config.container.appendChild(this.element)},[{key:"setOptions",value:function(e){eA(this,e),this.views.forEach(function(t){t.init(e,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var e=this.datepicker;if(!e.inline){var t=eY(e.inputField);t!==eY(e.config.container)?this.element.dir=t:this.element.dir&&this.element.removeAttribute("dir"),this.place(),e.config.disableTouchKeyboard&&e.inputField.blur()}ex(e,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,ex(this.datepicker,"hide"))}},{key:"place",value:function(){var e,t,r,i=this.element,a=i.classList,n=i.style,o=this.datepicker,s=o.config,d=o.inputField,l=s.container,c=this.element.getBoundingClientRect(),u=c.width,h=c.height,f=l.getBoundingClientRect(),g=f.left,p=f.top,y=f.width,v=d.getBoundingClientRect(),b=v.left,m=v.top,w=v.width,k=v.height,x=s.orientation,D=x.x,S=x.y;l===document.body?(e=window.scrollY,t=b+window.scrollX,r=m+e):(e=l.scrollTop,t=b-g,r=m-p+e),"auto"===D&&(t<0?(D="left",t=10):D=t+u>y?"right":"rtl"===eY(d)?"right":"left"),"right"===D&&(t-=u-w),"auto"===S&&(S=r-h<e?"bottom":"top"),"top"===S?r-=h:r+=k,a.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),a.add("datepicker-orient-".concat(S),"datepicker-orient-".concat(D)),n.top=r?"".concat(r,"px"):r,n.left=t?"".concat(t,"px"):t}},{key:"setViewSwitchLabel",value:function(e){this.controls.viewSwitch.textContent=e}},{key:"setPrevBtnDisabled",value:function(e){this.controls.prevBtn.disabled=e}},{key:"setNextBtnDisabled",value:function(e){this.controls.nextBtn.disabled=e}},{key:"changeView",value:function(e){var t=this.currentView,r=this.views[e];return r.id!==t.id&&(this.currentView=r,this._renderMethod="render",ex(this.datepicker,"changeView"),this.main.replaceChild(r.element,t.element)),this}},{key:"changeFocus",value:function(e){return this._renderMethod=eV(this,e)?"render":"refreshFocus",this.views.forEach(function(e){e.updateFocus()}),this}},{key:"update",value:function(){var e=eF(this.datepicker);return this._renderMethod=eV(this,e)?"render":"refresh",this.views.forEach(function(e){e.updateFocus(),e.updateSelection()}),this}},{key:"render",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=e&&this._renderMethod||"render";delete this._renderMethod,this.currentView[t]()}}]);function eT(e,t,r,i){var a,n,o=e.picker,s=o.currentView,d=s.step||1,l=o.viewDate;switch(s.id){case 0:l=i?j(l,7*r):t.ctrlKey||t.metaKey?F(l,r):j(l,r),a=j,n=function(e){return s.disabled.includes(e)};break;case 1:l=A(l,i?4*r:r),a=A,n=function(e){var t=new Date(e),r=s.year,i=s.disabled;return t.getFullYear()===r&&i.includes(t.getMonth())};break;default:l=F(l,r*(i?4:1)*d),a=F,n=function(e){return s.disabled.includes(Y(e,d))}}void 0!==(l=function e(t,r,i,a,n,o){return M(t,n,o)?a(t)?e(r(t,i),r,i,a,n,o):t:void 0}(l,a,r<0?-d:d,n,s.minDate,s.maxDate))&&o.changeFocus(l).render()}function eW(e,t){if("Tab"===t.key){eO(e);return}var r=e.picker,i=r.currentView,a=i.id,n=i.isMinView;if(r.active){if(e.editMode)switch(t.key){case"Escape":r.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(t.key){case"Escape":r.hide();break;case"ArrowLeft":if(t.ctrlKey||t.metaKey)eD(e,-1);else if(t.shiftKey){e.enterEditMode();return}else eT(e,t,-1,!1);break;case"ArrowRight":if(t.ctrlKey||t.metaKey)eD(e,1);else if(t.shiftKey){e.enterEditMode();return}else eT(e,t,1,!1);break;case"ArrowUp":if(t.ctrlKey||t.metaKey)eS(e);else if(t.shiftKey){e.enterEditMode();return}else eT(e,t,-1,!0);break;case"ArrowDown":if(t.shiftKey&&!t.ctrlKey&&!t.metaKey){e.enterEditMode();return}eT(e,t,1,!0);break;case"Enter":n?e.setDate(r.viewDate):r.changeView(a-1).render();break;case"Backspace":case"Delete":e.enterEditMode();return;default:1!==t.key.length||t.ctrlKey||t.metaKey||e.enterEditMode();return}}else switch(t.key){case"ArrowDown":case"Escape":r.show();break;case"Enter":e.update();break;default:return}t.preventDefault(),t.stopPropagation()}function eP(e){e.config.showOnFocus&&!e._showing&&e.show()}function eI(e,t){var r=t.target;(e.picker.active||e.config.showOnClick)&&(r._active=r===document.activeElement,r._clicking=setTimeout(function(){delete r._active,delete r._clicking},2e3))}function eU(e,t){var r=t.target;r._clicking&&(clearTimeout(r._clicking),delete r._clicking,r._active&&e.enterEditMode(),delete r._active,e.config.showOnClick&&e.show())}function eH(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function e$(e,t){var r=e.element;if(r===document.activeElement){var i=e.picker.element;!Z(t,function(e){return e===r||e===i})&&eO(e)}}function eR(e,t){return e.map(function(e){return R(e,t.format,t.locale)}).join(t.dateDelimiter)}function ez(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.config,a=e.dates,n=e.rangepicker;if(0===t.length)return r?[]:void 0;var o=n&&e===n.datepickers[1],s=t.reduce(function(e,t){var r=$(t,i.format,i.locale);if(void 0===r)return e;if(i.pickLevel>0){var a=new Date(r);r=1===i.pickLevel?o?a.setMonth(a.getMonth()+1,0):a.setDate(1):o?a.setFullYear(a.getFullYear()+1,0,0):a.setMonth(0,1)}return!M(r,i.minDate,i.maxDate)||e.includes(r)||i.datesDisabled.includes(r)||i.daysOfWeekDisabled.includes(new Date(r).getDay())||e.push(r),e},[]);if(0!==s.length)return i.multidate&&!r&&(s=s.reduce(function(e,t){return a.includes(t)||e.push(t),e},a.filter(function(e){return!s.includes(e)}))),i.maxNumberOfDates&&s.length>i.maxNumberOfDates?s.slice(-1*i.maxNumberOfDates):s}function eJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=e.config,a=e.picker,n=e.inputField;if(2&t){var o=a.active?i.pickLevel:i.startView;a.update().changeView(o).render(r)}1&t&&n&&(n.value=eR(e.dates,i))}function eq(e,t,r){var i=r.clear,a=r.render,n=r.autohide;void 0===a&&(a=!0),a?void 0===n&&(n=e.config.autohide):n=!1;var o=ez(e,t,i);o&&(o.toString()!==e.dates.toString()?(e.dates=o,eJ(e,a?3:1),ex(e,"changeDate")):eJ(e,1),n&&e.hide())}var eQ=h(function e(t){var r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;c(this,e),t.datepicker=this,this.element=t;var o=this.config=Object.assign({buttonClass:a.buttonClass&&String(a.buttonClass)||"button",container:document.body,defaultViewDate:B(),maxDate:void 0,minDate:void 0},ef(et,this));this._options=a,Object.assign(o,ef(a,this));var s=this.inline="INPUT"!==t.tagName;if(s)o.container=t,i=O(t.dataset.date,o.dateDelimiter),delete t.dataset.date;else{var d=a.container?document.querySelector(a.container):null;d&&(o.container=d),(r=this.inputField=t).classList.add("datepicker-input"),i=O(r.value,o.dateDelimiter)}if(n){var l=n.inputs.indexOf(r),u=n.datepickers;if(l<0||l>1||!Array.isArray(u))throw Error("Invalid rangepicker object.");u[l]=this,Object.defineProperty(this,"rangepicker",{get:function(){return n}})}this.dates=[];var h=ez(this,i);h&&h.length>0&&(this.dates=h),r&&(r.value=eR(this.dates,o));var f=this.picker=new eK(this);if(s)this.show();else{var g=e$.bind(null,this);G(this,[[r,"keydown",eW.bind(null,this)],[r,"focus",eP.bind(null,this)],[r,"mousedown",eI.bind(null,this)],[r,"click",eU.bind(null,this)],[r,"paste",eH.bind(null,this)],[document,"mousedown",g],[document,"touchstart",g],[window,"resize",f.place.bind(f)]])}},[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(e){var t=this.picker,r=ef(e,this);Object.assign(this._options,e),Object.assign(this.config,r),t.setOptions(r),eJ(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){!this.inline&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){var e,t;return this.hide(),e=this,!(t=z.get(e))||(t.forEach(function(e){Q.call.apply(Q,m(e))}),z.delete(e)),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=t?function(r){return R(r,t,e.config.locale)}:function(e){return new Date(e)};return this.config.multidate?this.dates.map(r):this.dates.length>0?r(this.dates[0]):void 0}},{key:"setDate",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=[].concat(t),a={},n=D(t);"object"!==w(n)||Array.isArray(n)||n instanceof Date||!n||Object.assign(a,i.pop()),eq(this,Array.isArray(i[0])?i[0]:i,a)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline){var t={clear:!0,autohide:!!(e&&e.autohide)};eq(this,O(this.inputField.value,this.config.dateDelimiter),t)}}},{key:"refresh",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&"string"!=typeof t&&(r=t,t=void 0),eJ(this,"picker"===t?2:"input"===t?1:3,!r)}},{key:"enterEditMode",value:function(){!this.inline&&this.picker.active&&!this.editMode&&(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline&&this.editMode){var t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),t.update&&this.update(t)}}}],[{key:"formatDate",value:function(e,t,r){return R(e,t,r&&ee[r]||ee.en)}},{key:"parseDate",value:function(e,t,r){return $(e,t,r&&ee[r]||ee.en)}},{key:"locales",get:function(){return ee}}]);function eG(e,t,r,i,a){return new o({host:e,publicKey:t,debug:!0}).auth(r,i,{user_scope:a})}function eX(){"object"==typeof Headway&&Headway.init({selector:"#ui-changelog",account:"7Xr08y"})}function eZ(){"object"==typeof Headway&&Headway.show()}var e0=i.aN,e1=i.oT,e2=i._8,e6=i.iK;export{e0 as Datepicker,e1 as auth_provider,e2 as init_headway,e6 as show_headway};
//# sourceMappingURL=index.js.map