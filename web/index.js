!function(){var e={243:function(e,t,o){"use strict";o.r(t),o.d(t,{auth_provider:function(){return i},initialize_flowbite:function(){return r}});var s=o("620");function i(e,t,o,i){return new s.default({host:e,publicKey:t}).auth(o,i)}function r(){}},620:function(e,t,o){"use strict";var s,i;o.r(t),o.d(t,{default:function(){return a}});let r="https://api.nango.dev",n="NANGO DEBUG LOG: ";class a{hostBaseUrl;status;publicKey;debug=!1;constructor(e={}){if(e.host=e.host||r,this.debug=e.debug||!1,this.debug&&(console.log(n,"Debug mode is enabled."),console.log(n,`Using host: ${e.host}.`)),this.hostBaseUrl="/"===e.host.slice(-1)?e.host.slice(0,-1):e.host,this.status=s.IDLE,this.publicKey=e.publicKey,this.isCloud()&&!e.publicKey)throw Error("You should specify a Public Key when using Nango Cloud (cf. documentation).");try{new URL(this.hostBaseUrl)}catch(e){throw Error(`Invalid URL provided for the Nango host: ${this.hostBaseUrl}`)}if(!window)throw Error("Couldn't initialize Nango frontend. The window object is undefined. Are you using Nango frontend from a browser?")}auth(e,t,o){let i=this.hostBaseUrl+`/oauth/connect/${e}${this.toQueryString(t,o)}`;try{new URL(i)}catch(e){throw Error(`Could not construct valid Nango URL based on provided parameters: ${i}`)}return new Promise((e,t)=>{this.status=s.BUSY,new u(this.hostBaseUrl,i,(t,o)=>{if(this.status===s.BUSY)return this.status=s.DONE,e({providerConfigKey:t,connectionId:o})},(e,o)=>{if(this.status===s.BUSY)return this.status=s.DONE,t({message:o,type:e})},this.debug)})}toQueryString(e,t){let o=[];if(e&&o.push(`connection_id=${e}`),this.publicKey&&o.push(`public_key=${this.publicKey}`),null!=t)for(let e in t.params){let s=t.params[e];"string"==typeof s&&o.push(`params[${e}]=${s}`)}return 0===o.length?"":"?"+o.join("&")}isCloud(){return this.hostBaseUrl===r||"https://staging.nango.dev"===this.hostBaseUrl}}(i=s||(s={}))[i.IDLE=0]="IDLE",i[i.BUSY=1]="BUSY",i[i.DONE=2]="DONE";class u{url;features;width=500;height=600;modal;swClient;debug;constructor(e,t,o,s,i){this.url=t,this.debug=i||!1;let{left:r,top:n,computedWidth:a,computedHeight:u}=this.layout(this.width,this.height);this.features={width:a,height:u,top:n,left:r,scrollbars:"yes",resizable:"yes",noopener:"yes",status:"no",toolbar:"no",location:"no",copyhistory:"no",menubar:"no",directories:"no"},this.swClient=new WebSocket(e.replace("https://","wss://").replace("http://","ws://")),this.swClient.onmessage=e=>{this.handleMessage(e,o,s)}}handleMessage(e,t,o){let s=JSON.parse(e.data);switch(s.message_type){case"connection_ack":this.debug&&console.log(n,"Connection ack received. Opening modal...");let i=s.ws_client_id;this.open(i);break;case"error":this.debug&&console.log(n,"Error received. Rejecting authorization..."),o(s.error_type,s.error_desc),this.swClient.close();break;case"success":this.debug&&console.log(n,"Success received. Resolving authorization..."),t(s.provider_config_key,s.connection_id),this.swClient.close();break;default:this.debug&&console.log(n,"Unkown message type received from Nango server. Ignoring...");return}}layout(e,t){let o=window.screen.width,s=window.screen.height;return{left:Math.max(o/2-e/2,0),top:Math.max(s/2-t/2,0),computedWidth:Math.min(e,o),computedHeight:Math.min(t,s)}}open(e){let t=this.url+"&ws_client_id="+e,o=this.featuresToString();return this.modal=window.open(t,"",o),this.modal}featuresToString(){let e=this.features,t=[];for(let o in e)t.push(o+"="+e[o]);return t.join(",")}}}},t={};function o(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,o),r.exports}o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o("243")}();
//# sourceMappingURL=index.js.map